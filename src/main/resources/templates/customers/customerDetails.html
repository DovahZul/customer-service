<!DOCTYPE html>

<html xmlns:th="https://www.thymeleaf.org" th:replace="~{fragments/navbar::compositor (~{::body})}" >  
  
    <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

  <body th:object="${customer}">
  
	<h2>Customer information</h2>
  	
	 <table class="table table-striped" th:object="${customer}">
      <tr>
        <th>Name</th>
        <td><b th:text="*{firstName + ' ' + lastName}"></b></td>
      </tr>
       <tr>
        <th>Mobile phone number</th>
        <td><b  th:text="*{mobilePhone}"></b></td>
      </tr>
       <tr>
        <th>Address</th>
        <td><b th:text="*{address}"></b></td>
      </tr>
       <tr>
        <th>PassportSerialNumber</th>
        <td><b th:text="*{passportSerial}"></b></td>
      </tr>
       <tr>
        <th>Customer type</th>
        <td><b th:text="*{type}"></b></td>
      </tr>
      <tr>
        <th>Assigned support</th>
        <td><b th:text="*{worker.firstName + ' ' + worker.lastName}"></b></td>
      </tr>
      </table>
  
  	<h2>Bank Accounts</h2>
  	
			

    <table id="accounts" class="table table-striped">
        <thead>
        <tr>
            <th style="width: 150px;">Type</th>
            <th style="width: 150px;">Ballance</th>
            <th style="width: 150px;">customer debug info</th>
        </tr>
        </thead>
        <tbody>
          <tr th:each="account : ${accountList}">
				<td>
				      <a  th:text="${account.currencyType}"/></a>
				  </td>	
				  <td>
				      <a  th:text="${account.ballance}"/></a>
				  </td>
				  <td>
				      <a  th:text="${account.customer}"/></a>
				  </td>
				  <td>
				  	<a th:href="@{/customers/{cust_id}/accounts/{acc_id}/edit(cust_id=${customer.id}, acc_id=${account.id} )}" class="btn btn-default">Edit</a>
    			</td>
    			<td>
			  		<a th:href="@{/customers/{cust_id}/accounts/{acc_id}/delete(cust_id=${customer.id}, acc_id=${account.id} )}" class="btn btn-default">Delete</a>
    			</td>
          </tr>
        </tbody>
    </table>
    
    <a th:href="@{{id}/accounts/new(id=${customer.id})}" class="btn btn-default">Start new account!!!</a>
    
    
    
    
  
 
  
  </body>

</html>
